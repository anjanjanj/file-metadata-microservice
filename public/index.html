<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>File Metadata Microservice</title>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>

  <h1>File Metadata Microservice</h1>
  <p>Upload a file to see its size in bytes.</p>
  <form id="file-upload" enctype="multipart/form-data">
    <input type="file" name="uploadedFile" />
    <input type="submit" />
  </form>

	<script type="text/javascript">
		$(document).ready(function() {

      $('form').on('submit', function(event) {
        event.preventDefault();
        $.ajax( {
          url: window.location.origin + '/api/fileanalyse',
          type: 'POST',
          data: new FormData(this),
          processData: false,
          contentType: false,
          cache: false,
          error: function(jqXHR, textStatus, errorThrown) {
						alert('ERRORS: ' + textStatus);
					},
					success: function(data) {
						alert('FILE SIZE: ' + data.size);
					}
        });
      });
      
		});
	</script>

</body>
</html>

